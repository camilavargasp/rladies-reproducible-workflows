{
  "hash": "5c7ac2ea6acc1f54d68ed2ab9cbbac1d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Documentation\"\nformat: html\n---\n\n\n## What's in a project README?\n\nYour project's README file on GitHub introduces other researchers to your project repository; it is first thing someone will see when they encounter your project.\n\nIt also helps YOU. Help your future self remember what you did and why.\n\n#### It should include:\n\n1.  Project name\n2.  Project description - what does the code do? why are you doing it?\n3.  How to get started\n4.  Development environment: what dependencies did you use and what version?\n5.  Workflow - how do you run the analysis?\n6.  Credits\n\n[Example](https://github.com/jinyizju/U.PhyloMaker) of a README that includes, project name, description, how to get started and examples showing how to run package functions\n\n## Writing reproducible code\n\n### Stick to a readable coding style\n\nStick to \"a-zA-Z0- 9\\_\" characters; avoid periods (except eg '.csv')\n\nThe R package styleR package will style your code according to the [tidyverse style guide](https://style.tidyverse.org/).\n\n#### styler example\n\nThe code below doesn't conform to the tidyverse style guide\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_df <- data.frame(a = 1:3, b = c(\"a\", \"b\", \"c\"))\n```\n:::\n\n\nLet's use styler to fix that\n\n![](images/styler%20example.png)\n\nstyler takes this\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_df=data.frame(a=1:3, b=c(\"a\",\"b\",\"c\"))\n```\n:::\n\n\nand changes it to this\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_df <- data.frame(a = 1:3, b = c(\"a\", \"b\", \"c\"))\n```\n:::\n\n\n### Naming variables and functions\n\nTry to be concise and descriptive.\n\n**Functions**: use a verb and make it clear what the function does\n\nFor example, instead of\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_function <- function(a_number) a_number + 1\n```\n:::\n\n\nuse\n\n\n::: {.cell}\n\n```{.r .cell-code}\nadd_one <- function(a_number) a_number + 1\n```\n:::\n\n\n**Data frames and variables**: use a noun and make it clear what it is\n\nInstead of:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_df <- data.frame(\n  plant = c(\"Claytonia virginica\", \"Erythronium americanum\"),\n  abundance = c(100, 20)\n)\n```\n:::\n\n\nuse\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplant_abundance <- data.frame(\n  plant = c(\"Claytonia virginica\", \"Erythronium americanum\"),\n  abundance = c(100, 20)\n)\n```\n:::\n\n\n### Commenting code\n\nHelp your future self! You want to make it easy for yourself (and others) to understand what you did and why.\n\n1.  Put a brief explanatory comment at the start of every program\n\n2.  Focus on why instead of what. Your code will tell the reader what it is doing, so focus on the reasoning behind your decisions.\n\n\n    ::: {.cell}\n    ::: {.cell-output .cell-output-stderr}\n    \n    ```\n    Warning: package 'tidyr' was built under R version 4.3.2\n    ```\n    \n    \n    :::\n    :::\n\n\nComments that tell us what the code does\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# join the measurement data with the bee species data\n# filter out NA scientific names \n# and filter out any bee measurements from the species Lasioglossum incomplotum\n\ncleaned_df <- researcher_measurements %>% \n  left_join(bees_df) %>%\n  filter(!is.na(scientificName)) %>% \n  filter(scientificName != \"Lasioglossum incompletum\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nJoining with `by = join_by(catalogNumber)`\n```\n\n\n:::\n:::\n\n\nComments that tell us why the code does what it does\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#for our analysis we only want to analyze bee specimens that are identified to species, so we'll join our measurement data with the bee species data and remove anything not identified to species. We'll also removed the specimens of the species Lasioglossum incompletum, since this is not noe of our focal speecies.\ncleaned_df <- researcher_measurements %>% \n  left_join(bees_df) %>%\n  filter(!is.na(scientificName)) %>% \n  filter(scientificName != \"Lasioglossum incompletum\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nJoining with `by = join_by(catalogNumber)`\n```\n\n\n:::\n:::\n\n\n### Decompose code into functionsÂ \n\n1.  This minimizes errors (if you modify code in one part of the script and then forget to modify the code in another part that is doing the same thing)\n\n2.  Use these if you find yourself copying and pasting\n\nLet's return to our previous example.\n\nI had two sets of bee measurements, one from undergraduate researchers and one from community scientists. I needed to upload both datasets and clean them in the same way and I found myself copying and pasting:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresearchers_cleaned <- researcher_measurements %>% \n  left_join(bees_df, by = \"catalogNumber\") %>%\n  filter(!is.na(scientificName)) %>% \n  filter(scientificName != \"Lasioglossum incompletum\")\n\ncommunity_cleaned <- community_measurements %>% \n  left_join(bees_df, by = \"catalogNumber\") %>%\n  filter(!is.na(scientificName)) %>% \n  filter(scientificName != \"Lasioglossum incompletum\")\n```\n:::\n\n\nSo instead I wrote a function:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclean_data = function(df){\n  df %>% left_join(bees_df, by = \"catalogNumber\") %>%\n    filter(!is.na(scientificName)) %>% \n    filter(scientificName != \"Lasioglossum incompletum\") \n}\n```\n:::\n\n\nand applied it to both my data sets:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresearchers_cleaned <- researcher_measurements %>%\n  clean_data\n\ncommunity_cleaned <- community_measurements %>%\n  clean_data\n```\n:::\n\n\nNow if I need to change something, I don't need to worry about making that change in multiple lines of code.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#I'm changing this function so that we also filter bees whose scientific names are \"\" in the dataset.\nclean_data = function(df){\n  df %>% left_join(ucsb, by = \"catalogNumber\") %>%\n    filter(!is.na(scientificName) & scientificName != \"\") %>% \n    filter(scientificName != \"Lasioglossum incompletum\") \n}\n```\n:::\n\n\n### Communicating with collaborators\n\n1.  Github issues -- good for communicating with collaborators.\n\n    ![](images/github%20issues.png)\n\n2.  Github wikis -- particularly for documentation; markdown file that you access through github\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}